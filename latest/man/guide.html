<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Guide · BeaData.jl documentation</title><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script></head><body><nav class="toc"><h1>BeaData.jl</h1><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li class="current"><a class="toctext" href="guide.html">Guide</a><ul class="internal"><li><a class="toctext" href="#Initialize-a-connection-1">Initialize a connection</a></li><li><a class="toctext" href="#Retrieve-a-table-1">Retrieve a table</a></li><li><a class="toctext" href="#NIPA-Table-IDs-1">NIPA Table IDs</a></li><li><a class="toctext" href="#NIPA-Table-line-numbers-1">NIPA Table line numbers</a></li></ul></li><li><a class="toctext" href="../lib/public.html">Commands</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="guide.html">Guide</a></li></ul><a class="edit-page" href="https://github.com/stephenbnicar/BeaData.jl/tree/1f7e3a52ea184575a43816bba5012b5c6206d8fb/docs/src/man/guide.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Package-Guide-1" href="#Package-Guide-1">Package Guide</a></h1><p>For now, the package only retrieves full tables from the standard National Income and Product Accounts (NIPA) (i.e., no downloads of single data series or     from other datasets such as the International Transactions Accounts).</p><h2><a class="nav-anchor" id="Initialize-a-connection-1" href="#Initialize-a-connection-1">Initialize a connection</a></h2><p>Initialize a connection to the BEA API:</p><pre><code class="language-julia">   b = Bea(&quot;your-36-character-registration-key&quot;)</code></pre><p>Alternatively, you can save your key in the file <code>~/.beadatarc</code> and call the constructor with no argument:</p><pre><code class="language-julia">    b = Bea()</code></pre><h2><a class="nav-anchor" id="Retrieve-a-table-1" href="#Retrieve-a-table-1">Retrieve a table</a></h2><p>Download a NIPA table using the <code>get_nipa_table</code> method:</p><pre><code class="language-julia">   mytable = get_nipa_table(b::Bea, TableID::Int, frequency::AbstractString,
        startyear::Int, endyear::Int)</code></pre><p>Arguments:</p><ul><li><code>b</code>: a BEA API connection</li><li><code>TableID</code>: the integer Table ID for the desired NIPA table (see &quot;NIPA Table IDs&quot; below)</li><li><code>frequency</code>: &quot;A&quot; for annual, &quot;Q&quot; for quarerly</li><li><code>startyear</code>: first year of data requested, in YYYY format</li><li><code>endyear</code>: last year of data requested, in YYYY format</li></ul><p>The method returns an object of type <code>BeaNipaTable</code>, with the following fields:</p><ul><li><code>tablenum</code>: Table number</li><li><code>tableid</code>: Table ID</li><li><code>tabledesc</code>: Table description</li><li><code>linedesc</code>: an <code>OrderedDict</code> with table line numbers and the corresponding variable descriptions</li><li><code>tablenotes</code>: an <code>OrderedDict</code> with any notes to the table</li><li><code>frequency</code></li><li><code>startyear</code></li><li><code>endyear</code></li><li><code>df</code>: a <code>DataFrame</code> containing the data values; column names are the line numbers from the table (see &quot;NIPA Table line numbers&quot; below)</li></ul><h2><a class="nav-anchor" id="NIPA-Table-IDs-1" href="#NIPA-Table-IDs-1">NIPA Table IDs</a></h2><p>The <code>TableID</code>s necessary to retrieve data from the API are not the same as the NIPA table numbers, and they are not listed anywhere (that I&#39;ve found) on the BEA&#39;s website. I&#39;ve provided a function that will retrieve the full list of <code>TableID</code> values and their corresponding table numbers and descriptions and write them to a .tex file.</p><p>Once a BEA API connection has been initialized, the function</p><pre><code class="language-julia">    nipa_metadata_tex(b::Bea)</code></pre><p>will write a file named &quot;NipaMetadata.tex&quot; to the current working directory.</p><h2><a class="nav-anchor" id="NIPA-Table-line-numbers-1" href="#NIPA-Table-line-numbers-1">NIPA Table line numbers</a></h2><p>The data frame returned by a call to the API has dates in the first column and the table data in the remaining columns.  Data columns are named for the corresponding line numbers of the NIPA table.  </p><p>Once a table has been retrieved, the function</p><pre><code class="language-julia">    table_metadata_tex(bnt::BeaNipaTable)</code></pre><p>will write a .tex file to the current working directory that contains the table name and description, line numbers and descriptions, and table notes.</p><footer><hr/><a class="previous" href="../index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../lib/public.html"><span class="direction">Next</span><span class="title">Commands</span></a></footer></article></body></html>
